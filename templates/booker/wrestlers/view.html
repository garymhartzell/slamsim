{% extends "booker/_booker_base.html" %}

{% block title %}View Wrestler: {{ wrestler.Name }}{% endblock %}

{% block content %}
<div class="header-bar">
    <h2>Wrestler Details: {{ wrestler.Name }}</h2>
    <div class="action-buttons">
        <a href="{{ url_for('wrestlers.edit_wrestler', wrestler_name=wrestler.Name) }}" class="btn btn-primary">Edit</a>
        <a href="{{ url_for('wrestlers.list_wrestlers') }}">Back to List</a>
    </div>
</div>

<div class="details-card-grid">
    <div class="details-card">
        <div class="card-header">
            <h3>{{ wrestler.Name }}</h3>
            {% if wrestler.Nickname %}<p>{{ wrestler.Nickname }}</p>{% endif %}
        </div>
        <div class="card-content">
            <p><strong>Status:</strong> {{ wrestler.Status }}</p>
            <p><strong>Division:</strong> {{ wrestler.DivisionName }}</p>
            <p><strong>Belt:</strong> {% if wrestler.Belt and wrestler.Belt != '0' %}{{ wrestler.Belt }}{% else %}None{% endif %}</p>
            <p><strong>Team:</strong> {{ wrestler.Team or 'None' }}</p>
            <p><strong>Faction:</strong> {{ wrestler.Faction or 'None' }}</p>
            <p><strong>Manager:</strong> {{ wrestler.Manager or 'None' }}</p>
            <hr>
            <p><strong>Height:</strong> {{ wrestler.Height }}</p>
            <p><strong>Weight:</strong> {{ wrestler.Weight }} {{ prefs.weight_unit }}</p>
            <p><strong>Location:</strong> {{ wrestler.Location }}</p>
            <p><strong>Date of Birth:</strong> {{ wrestler.DOB }}</p>
        </div>
    </div>

    <div class="details-card">
        <div class="card-header"><h3>Record</h3></div>
        <div class="card-content">
            <h4>Singles</h4>
            <p>{{ wrestler.Singles_Wins | default('0') }} - {{ wrestler.Singles_Losses | default('0') }} - {{ wrestler.Singles_Draws | default('0') }} (W-L-D)</p>
            <h4>Tag Team</h4>
            <p>{{ wrestler.Tag_Wins | default('0') }} - {{ wrestler.Tag_Losses | default('0') }} - {{ wrestler.Tag_Draws | default('0') }} (W-L-D)</p>
            <hr>
            <h4>Overall</h4>
            {% set total_wins = (wrestler.get('Singles_Wins', 0) | int) + (wrestler.get('Tag_Wins', 0) | int) %}
            {% set total_losses = (wrestler.get('Singles_Losses', 0) | int) + (wrestler.get('Tag_Losses', 0) | int) %}
            {% set total_draws = (wrestler.get('Singles_Draws', 0) | int) + (wrestler.get('Tag_Draws', 0) | int) %}
            <p>{{ total_wins }} - {{ total_losses }} - {{ total_draws }} (W-L-D)</p>
        </div>
    </div>
</div>
{% endblock %}

