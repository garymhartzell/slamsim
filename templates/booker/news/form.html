{% extends "booker/_booker_base.html" %}

{% block title %}{% if form_action == 'create' %}Create News Post{% else %}Edit News Post{% endif %}{% endblock %}

{% block content %}
<div class="header-bar">
    <h2>{% if form_action == 'create' %}Create New News Post{% else %}Edit News Post{% endif %}</h2>
    <div class="action-buttons">
        <a href="{{ url_for('news.list_news') }}">Back to News List</a>
    </div>
</div>

<form class="wide-form" method="POST" action="{% if form_action == 'create' %}{{ url_for('news.create_news') }}{% else %}{{ url_for('news.edit_news', news_id=news_post.News_ID) }}{% endif %}">
    <fieldset class="form-section">
        <legend>Post Details</legend>
        <div class="form-group">
            <label for="date">Date <span class="required">*</span></label>
            <input type="date" id="date" name="date" value="{{ news_post.Date | default(today) }}" required>
        </div>
        <div class="form-group">
            <label for="subject">Subject <span class="required">*</span></label>
            <input type="text" id="subject" name="subject" value="{{ news_post.Subject | default('') }}" required>
        </div>
        <div class="form-group">
            <label for="content">Body <span class="required">*</span></label>
            <textarea id="content" name="content" rows="15" required>{{ news_post.Content | default('') }}</textarea>
            <small>Markdown is supported.</small>
        </div>
    </fieldset>

    <div class="action-buttons form-actions">
        <button type="submit" class="btn btn-primary">{% if form_action == 'create' %}Create Post{% else %}Update Post{% endif %}</button>
        <a href="{{ url_for('news.list_news') }}" class="btn btn-secondary">Cancel</a>
    </div>
</form>
{% endblock %}
