{% extends "_base.html" %}

{% block title %}{% if form_action == 'create' %}Create Division{% else %}Edit Division{% endif %}{% endblock %}

{% block content %}
    <h2>{% if form_action == 'create' %}Create New Division{% else %}Edit Division: {{ division.Name }}{% endif %}</h2>

    <form method="POST" action="{% if form_action == 'create' %}{{ url_for('divisions.create_division') }}{% else %}{{ url_for('divisions.edit_division', division_id=division.ID) }}{% endif %}">
        {% if form_action == 'edit' %}
        <div class="form-group">
            <label>ID</label>
            <p class="form-static-text">{{ division.ID }}</p>
            <input type="hidden" name="division_id" value="{{ division.ID }}">
        </div>
        {% endif %}
        <div class="form-group">
            <label for="name">Name</label>
            <input type="text" id="name" name="name" value="{{ division.Name | default('') }}" required>
        </div>
        <div class="form-group">
            <label for="display_position">Display Position</label>
            <input type="number" id="display_position" name="display_position" value="{{ division.Display_Position | default(0) }}" required min="0">
        </div>
        <div class="form-group">
            <label for="division_type">Division Type</label>
            <select id="division_type" name="division_type" required>
                <option value="" disabled {% if not division.Holder_Type %}selected{% endif %}>-- Select Type --</option>
                {% for type_option in division_type_options %}
                    <option value="{{ type_option }}" {% if division.Holder_Type == type_option %}selected{% endif %}>{{ type_option }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label for="status">Status</label>
            <select id="status" name="status" required>
                {% for status in status_options %}
                    <option value="{{ status }}" {% if division.Status == status %}selected{% endif %}>{{ status }}</option>
                {% endfor %}
            </select>
        </div>
        <button type="submit" class="btn btn-primary">{% if form_action == 'create' %}Add Division{% else %}Update Division{% endif %}</button>
        <a href="{{ url_for('divisions.list_divisions') }}">Cancel</a>
    </form>
{% endblock %}
