{% extends 'fan/_fan_base.html' %}

{% block title %}News Archive {{ year }} - {{ prefs.league_name }}{% endblock %}

{% block fan_content %}
<div class="container">
    <h1 class="page-title">News Archive: {{ year }}</h1>

    <div class="news-list">
        {% if news_posts %}
            {% for post in news_posts %}
            <div class="news-item">
                <h2 class="news-subject"><a href="{{ url_for('fan.view_news', news_id=post.News_ID) }}">{{ post.Subject }}</a></h2>
                <p class="news-date">{{ post.Date }}</p>
                {% if prefs.fan_mode_home_show_news == 'Show Excerpts' %}
                    <div class="news-excerpt">
                        {{ post.Content | striptags | truncate(200, True, '...') }}
                    </div>
                {% endif %}
            </div>
            {% endfor %}
        {% else %}
            <p>No news posts found for {{ year }}.</p>
        {% endif %}
    </div>

    <p class="back-link"><a href="{{ url_for('fan.news_list') }}">‚Üê Back to All News</a></p>
</div>
{% endblock %}
