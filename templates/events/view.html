{% extends "_base.html" %}

{% block title %}Event: {{ event.Event_Name }}{% endblock %}

{% block content %}
    <div class="header-bar">
        <h2>Event Details: {{ event.Event_Name }}</h2>
        <div class="action-buttons">
            <a href="{{ url_for('events.edit_event', event_name=event.Event_Name) }}" class="btn btn-primary">Edit Event & Segments</a>
            <a href="{{ url_for('events.list_events') }}">Back to List</a>
        </div>
    </div>

    <div class="details-card-grid">
        <div class="details-card">
            <div class="card-header">
                <h3>{{ event.Event_Name }}</h3>
                {% if event.Subtitle %}<p>{{ event.Subtitle }}</p>{% endif %}
            </div>
            <div class="card-content">
                <p><strong>Date:</strong> {{ event.Date }}</p>
                <p><strong>Status:</strong> {{ event.Status }}</p>
                <p><strong>Venue:</strong> {{ event.Venue }}</p>
                <p><strong>Location:</strong> {{ event.Location }}</p>
                <p><strong>Broadcasters:</strong> {{ event.Broadcasters }}</p>
            </div>
        </div>
    </div>

    <h3>Segments</h3>
    {% if segments %}
        <div class="segment-list view-only">
            {% for segment in segments %}
                <div class="segment-item">
                    <div class="segment-header">
                        <h4>{{ segment.position }}. {{ segment.type }}{% if segment.header %}: {{ segment.header }}{% endif %}</h4>
                    </div>
                    <div class="segment-content">
                         {% if segment.type == 'Match' and segment.match_result %}
                            <p class="match-result"><strong>Result:</strong> {{ segment.match_result }}</p>
                        {% endif %}
                        {% if segment.summary_content %}
                            <div class="summary-content">
                                {{ segment.summary_content | safe }}
                            </div>
                        {% endif %}
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p>No segments found for this event.</p>
    {% endif %}
{% endblock %}

